{"ast":null,"code":"import _classCallCheck from \"/Users/kharissafernandosmith/Projects/kharissa.github.io/react-nextagram/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kharissafernandosmith/Projects/kharissa.github.io/react-nextagram/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kharissafernandosmith/Projects/kharissa.github.io/react-nextagram/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kharissafernandosmith/Projects/kharissa.github.io/react-nextagram/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kharissafernandosmith/Projects/kharissa.github.io/react-nextagram/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kharissafernandosmith/Projects/kharissa.github.io/react-nextagram/src/pages/MyProfilePage.js\";\nimport React from 'react';\nimport Image from 'react-graceful-image';\nimport axios from 'axios';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Loader from '../components/Loader';\nimport { Redirect } from 'react-router-dom';\nimport Placeholder from '../images/profile-placeholder.jpg';\n\nvar MyProfilePage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MyProfilePage, _React$Component);\n\n  function MyProfilePage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyProfilePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyProfilePage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      userImages: [],\n      loggedIn: true,\n      isLoading: true\n    };\n    return _this;\n  }\n\n  _createClass(MyProfilePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var token = localStorage.getItem('token');\n      token ? // GET request to obtain all images for current logged in user\n      // Requires Authorization bearer token to obtain current user\n      axios({\n        method: 'get',\n        url: 'https://insta.nextacademy.com/api/v1/images/me',\n        headers: {\n          'Authorization': \"Bearer \".concat(token)\n        }\n      }).then(function (response) {\n        // Returns array of image urls strings for logged in user\n        console.log('Success');\n        console.log(response.data);\n\n        _this2.setStatus({\n          userImages: response.data,\n          isLoading: false\n        });\n      }).catch(function (error) {\n        // On failure, display error\n        console.log(error);\n\n        _this2.setState({\n          isLoading: false\n        });\n      }) : console.log('are you called?');\n      this.setState({\n        loggedIn: false,\n        isLoading: false\n      });\n    }\n  }, {\n    key: \"handleRedirect\",\n    value: function handleRedirect() {\n      if (this.state.loggedIn === false) {\n        window.alert('Please login to access your profile.');\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var username = localStorage.getItem('username');\n      var userPhoto = localStorage.getItem('userPhoto');\n      var isLoading = this.state.isLoading;\n      var userImages = this.state.userImages;\n      return React.createElement(Container, {\n        className: \"p-4\",\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"my-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Image, {\n        src: userPhoto ? userPhoto : Placeholder,\n        className: \"profile-image\",\n        alt: \"Profile photo of \".concat(username),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"@\", username))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, isLoading ? React.createElement(Loader, {\n        size: 200,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }) : userImages.map(function (image) {\n        return React.createElement(Col, {\n          sm: 4,\n          className: \"mb-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(Image, {\n          src: image,\n          className: \"user-images\",\n          alt: \"Image from \".concat(username),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }));\n      })));\n    }\n  }]);\n\n  return MyProfilePage;\n}(React.Component);\n\nexport { MyProfilePage as default };","map":{"version":3,"sources":["/Users/kharissafernandosmith/Projects/kharissa.github.io/react-nextagram/src/pages/MyProfilePage.js"],"names":["React","Image","axios","Row","Col","Container","Loader","Redirect","Placeholder","MyProfilePage","state","userImages","loggedIn","isLoading","token","localStorage","getItem","method","url","headers","then","response","console","log","data","setStatus","catch","error","setState","window","alert","username","userPhoto","map","image","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Image from 'react-graceful-image'\nimport axios from 'axios'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Container from 'react-bootstrap/Container'\nimport Loader from '../components/Loader'\nimport { Redirect } from 'react-router-dom'\nimport Placeholder from '../images/profile-placeholder.jpg'\n\n\nexport default class MyProfilePage extends React.Component {\n    state = {\n        userImages: [],\n        loggedIn: true,\n        isLoading: true,\n    }\n\n    componentDidMount() {\n        const token = localStorage.getItem('token');\n\n        token ?\n        // GET request to obtain all images for current logged in user\n        // Requires Authorization bearer token to obtain current user\n        axios({\n            method: 'get',\n            url: 'https://insta.nextacademy.com/api/v1/images/me',\n            headers: {\n                'Authorization': `Bearer ${token}`\n            }\n        })\n        .then(response => {\n            // Returns array of image urls strings for logged in user\n            console.log('Success');\n            console.log(response.data);\n\n            this.setStatus({\n                userImages: response.data,\n                isLoading: false,\n            })\n        })\n        .catch(error => {\n            // On failure, display error\n            console.log(error);\n            this.setState({\n                isLoading: false,\n            })\n        })\n        :\n        console.log('are you called?');\n        this.setState({\n            loggedIn: false,\n            isLoading: false,\n        })\n    }\n\n    handleRedirect() {\n        if (this.state.loggedIn === false) {\n            window.alert('Please login to access your profile.')\n            return  <Redirect to=\"/\" />\n        }\n    }\n\n    render() {\n        const username = localStorage.getItem('username');\n        const userPhoto = localStorage.getItem('userPhoto');\n        const isLoading = this.state.isLoading;\n        const userImages = this.state.userImages;\n\n    return (\n        <Container className=\"p-4\" fluid>\n            <Row className=\"my-5\">\n                <Col sm={3}>\n                    <Image src={userPhoto ? userPhoto : Placeholder} className=\"profile-image\" alt={`Profile photo of ${username}`} />\n                </Col>\n                <Col>\n                    <h2 className=\"mt-3\">@{username}</h2>\n                </Col>\n            </Row>\n            <Row>\n                {\n                    isLoading ? \n                        <Loader size={200}/>\n                    : userImages.map(image =>\n                        <Col sm={4} className=\"mb-2\">\n                            <Image src={image} className=\"user-images\" alt={`Image from ${username}`} />\n                        </Col>\n                    )\n                }\n            </Row>\n        </Container>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}